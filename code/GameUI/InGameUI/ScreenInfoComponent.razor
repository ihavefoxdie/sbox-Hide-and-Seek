@using Sandbox;
@using Sandbox.UI;
@namespace HideAndSeek
@inherits PanelComponent

<root>
    <div class="game_ui">
        <div class="game_timer">@(GetFullTime())</div>
    </div>
</root>

@code
{
    [Property] public SyncComponent SharedInfo { get; set; }
    [Property] public int CurrentTimeSecs { get { if (SharedInfo is null) return 0; return (int)((SharedInfo.Timer) % 60); } }
    [Property] public int CurrentTimeMinutes { get { if (SharedInfo is null) return 0; return (int)((SharedInfo.Timer) / 60); } }

    private string GetFullTime()
    {
        return $"{CurrentTimeMinutes:00}:{CurrentTimeSecs:00}";
    }

    /// <summary>
    /// the hash determines if the system should be rebuilt. If it changes, it will be rebuilt
    /// </summary>
    protected override int BuildHash() => System.HashCode.Combine(SharedInfo, CurrentTimeSecs, CurrentTimeMinutes);
}
